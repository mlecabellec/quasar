# Feature 0020

## Title

Provide a set of C++ classes allowing to build trees or graphs of named objects.

## Description

The following capabilities and features shall be provided:

- Provide a "NamedObject" class.
    - The class shall have a "name" property that shall be initialized at construction time.
      - The given name shall be a non empty string.
      - The given name shall be unique within the parent object.
      - The given name shall be match the regular expression "^[a-zA-Z_][a-zA-Z0-9_]*$".
    - The class shall have an optional "parent" property.
      - A parent may be provided at construction time or set later.
      - When a parent is set, the name shall be added to the parent's children list.
      - If the name is not unique within the new parent, the operation shall fail (e.g. throw an exception).
    - The lifecycle of the object shall be managed by the parent object via strong references.
      - The parent shall hold a strong reference (e.g. std::shared_ptr) to its children.
      - When the parent is destroyed, it releases the references to its children.
      - When a parent is set, the child is added to the parent's children list.
      - When a parent is unset, the child is removed from the parent's children list.
  - The NamedObject class shall provide methods for comparison.
    - The comparison shall be based on the name property.
    - The comparison shall be case sensitive.
    - The comparison shall be lexicographical
  - The NamedObject class shall provide getter methods for
    - the parent property.
    - the name property.
    - the children property.
    - the siblings property.
    - the previous sibling property.
    - the next sibling property.
    - the first child property.
    - the last child property.
  - For each class of namespace quasar::coretypes, a derivated class shall be provided which shall also be a derivative of the NamedObject class.
  - Operations on named objects shall be thread safe.
  - The NamedObject class shall provide a static method "create" that shall create a new named object.
    - The method shall take a name and an optional parent as parameters.
    - The method shall return a std::shared_ptr to the created object.
    - The method shall throw a std::runtime_error if the name is invalid.
    - If a parent is provided:
        - The method shall throw a std::runtime_error if the name is not unique within the parent.
        - The method shall throw a std::runtime_error if the parent is not a valid parent for the object.
  - The NamedObject class shall support a "related" property allowing to reference other named objects.
  - Relations between NamedObject instances shall be implemented using weak pointers to avoid reference cycles.
  - Capabilities shall be provided to convert NamedObject to/from JSON, BSON, YAML, and XML.
    - These capabilities shall be implemented as separate utilities or visitors, not directly in the NamedObject class, to maintain modularity.
    - JSON/BSON conversion shall use the `jsoncons` library.
    - YAML conversion shall use the `yaml-cpp` library.
    - XML conversion shall use the `tinyxml2` library or similar.
    - String conversion utilities (`toString`, `fromString`) shall be provided.
  - NamedObject shall provide methods for comparison.
  - NamedObject shall provide methods for hashing.
  - Utilities shall be provided for traversing the tree (children, siblings, ancestors, descendants, all objects).
    - Iteration order options: Depth-first, Breadth-first.
    - **Note on Thread Safety**: Iterators are not required to be thread-safe. Thread safety during iteration must be managed by the caller (e.g., via external locking) or by iterating over a snapshot/copy of the structure.
    - In-place modification during iteration shall be supported only if the iteration mechanism allows it safely (e.g., via handles or snapshots).
  - Utilities shall be provided for searching the tree by name, type, or related object.
    - Search may support in-place modification if thread safety is managed by the caller.
  - Utilities shall be provided for copying, moving, and removing parts of the tree (children, siblings, ancestors, descendants).
 

Classes shall be associated with "quasar::named" namespace.

Project shall be localted in cmake-projects/named.

## Expected result

## Notes

### Dependency Management
- **Header-Only Libraries**: Libraries that are header-only (e.g., `jsoncons`) may be included directly in the project's source tree (e.g., in `cmake-projects/third-party` or similar).
- **Binary Libraries**: Libraries requiring compilation/linking (e.g., `yaml-cpp`, `tinyxml2`) should be installed via the system package manager.
- **Required Debian Packages**:
    - `libyaml-cpp-dev` (for `yaml-cpp`)
    - `libtinyxml2-dev` (for `tinyxml2`)